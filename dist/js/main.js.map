{"version":3,"sources":["main.js"],"names":["TodoList","items","$newItemInput","document","querySelector","$itemsTotal","$itemsDone","$todoUL","addEventListener","inputChange","bind","window","updateView","e","keyCode","push","TodoItem","value","forEach","item","appendChild","$itemLi","innerHTML","length","doneItems","filter","done","console","log","text","createElement","$itemP","$itemButton","checkOff","dispatchEvent","Event","classList","add","remove","todoList"],"mappings":";;;;;;AAAA;;;;;IAKMA,Q;AACL,qBAAc;AAAA;;AAEb,OAAKC,KAAL,GAAa,EAAb;AACA,OAAKC,aAAL,GAAqBC,SAASC,aAAT,CAAuB,iBAAvB,CAArB;AACA,OAAKC,WAAL,GAAmBF,SAASC,aAAT,CAAuB,QAAvB,CAAnB;AACA,OAAKE,UAAL,GAAkBH,SAASC,aAAT,CAAuB,OAAvB,CAAlB;AACA,OAAKG,OAAL,GAAeJ,SAASC,aAAT,YAAf;;AAEA,OAAKF,aAAL,CAAmBM,gBAAnB,CAAoC,OAApC,EAA6C,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAA7C;;AAEA;AACAC,SAAOH,gBAAP,CAAwB,aAAxB,EAAuC,KAAKI,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAvC;AACA;;;;8BAEWG,C,EAAG;;AAEd,OAAIA,EAAEC,OAAF,KAAc,EAAlB,EAAsB;AACrB,SAAKb,KAAL,CAAWc,IAAX,CAAgB,IAAIC,QAAJ,CAAa,KAAKd,aAAL,CAAmBe,KAAhC,CAAhB;;AAEA,SAAKf,aAAL,CAAmBe,KAAnB,GAA2B,EAA3B;AACA,SAAKL,UAAL;AACA;AACD;;;+BAEa;AAAA;;AACb;AACA,QAAKX,KAAL,CAAWiB,OAAX,CAAmB,UAACC,IAAD,EAAU;AAC5B,UAAKZ,OAAL,CAAaa,WAAb,CAAyBD,KAAKE,OAA9B;AACA;AACA;AACA;AACA;AACA,IAND;AAOA,QAAKhB,WAAL,CAAiBiB,SAAjB,GAA6B,KAAKrB,KAAL,CAAWsB,MAAxC;;AAEA;;AAEA,OAAIC,YAAY,KAAKvB,KAAL,CAAWwB,MAAX,CAAkB,UAACN,IAAD,EAAU;AAAC,WAAOA,KAAKO,IAAZ;AAAiB,IAA9C,CAAhB;AACAC,WAAQC,GAAR,CAAYJ,SAAZ;AACA,QAAKlB,UAAL,CAAgBgB,SAAhB,GAA4BE,UAAUD,MAAtC;AACA;;;;;;AAMF;;;;;;;IAKMP,Q;AACL,mBAAYa,IAAZ,EAAkB;AAAA;;AAEjB,OAAKA,IAAL,GAAYA,IAAZ;AACA,OAAKH,IAAL,GAAY,KAAZ;;AAEA,OAAKL,OAAL,GAAelB,SAAS2B,aAAT,CAAuB,IAAvB,CAAf;AACA,OAAKC,MAAL,GAAc5B,SAAS2B,aAAT,CAAuB,GAAvB,CAAd;AACA,OAAKC,MAAL,CAAYT,SAAZ,GAAwB,KAAKO,IAA7B;AACA,OAAKR,OAAL,CAAaD,WAAb,CAAyB,KAAKW,MAA9B;;AAEA,OAAKC,WAAL,GAAmB7B,SAAS2B,aAAT,CAAuB,QAAvB,CAAnB;AACA,OAAKT,OAAL,CAAaD,WAAb,CAAyB,KAAKY,WAA9B;;AAEA;AACA;AACA,OAAKA,WAAL,CAAiBxB,gBAAjB,CAAkC,OAAlC,EAA2C,KAAKyB,QAAL,CAAcvB,IAAd,CAAmB,IAAnB,CAA3C;AACA;;;;6BAEY;AACZ,QAAKgB,IAAL,GAAY,CAAC,KAAKA,IAAlB;AACA,QAAKd,UAAL;;AAEA;AACAD,UAAOuB,aAAP,CAAqB,IAAIC,KAAJ,CAAU,aAAV,CAArB;AAGA;;;+BAEc;AACd,QAAKT,IAAL,GAAY,KAAKL,OAAL,CAAae,SAAb,CAAuBC,GAAvB,CAA2B,MAA3B,CAAZ,GAAiD,KAAKhB,OAAL,CAAae,SAAb,CAAuBE,MAAvB,CAA8B,MAA9B,CAAjD;AACA;;;;;;AAID;;AAGD,IAAIC,WAAW,IAAIvC,QAAJ,EAAf","file":"main.js","sourcesContent":["/**\n * The master todo list controller\n * Keeps all the items in an array, and updates the DOM as needed\n * \n */\nclass TodoList {\n\tconstructor() {\n\n\t\tthis.items = [];\n\t\tthis.$newItemInput = document.querySelector('[name=new-item]');\n\t\tthis.$itemsTotal = document.querySelector('.total');\n\t\tthis.$itemsDone = document.querySelector('.done');\n\t\tthis.$todoUL = document.querySelector(`.todo ul`)\n\n\t\tthis.$newItemInput.addEventListener('keyup', this.inputChange.bind(this));\n\t\n\t\t// listen for the \"something changed\" event, call updateView\n\t\twindow.addEventListener(\"itemchanged\", this.updateView.bind(this));\n\t}\n\n\tinputChange(e) {\n\n\t\tif (e.keyCode === 13) {\n\t\t\tthis.items.push(new TodoItem(this.$newItemInput.value));\n\t\t\t\n\t\t\tthis.$newItemInput.value = \"\";\n\t\t\tthis.updateView()\n\t\t}\n\t}\n\n\tupdateView () {\n\t\t// var doneCount = 0;\n\t\tthis.items.forEach((item) => {\n\t\t\tthis.$todoUL.appendChild(item.$itemLi);\n\t\t\t// if (item.done === true) {\n\t\t\t// \tdoneCount ++;\n\t\t\t// \tthis.$itemsDone.innerHTML += item;\n\t\t\t// }\n\t\t})\n\t\tthis.$itemsTotal.innerHTML = this.items.length;\n\n\t\t// this.$itemsDone.innerHTML = doneCount;\n\n\t\tlet doneItems = this.items.filter((item) => {return item.done})\n\t\tconsole.log(doneItems)\n\t\tthis.$itemsDone.innerHTML = doneItems.length;\n\t}\n}\n\n\n\n\n/**\n * One todo list item\n * Keeps track of it's own state (text, done, etc)\n * Updates it's own internal DOM as needed\n */\nclass TodoItem {\n\tconstructor(text) {\n\n\t\tthis.text = text;\n\t\tthis.done = false;\n\n\t\tthis.$itemLi = document.createElement('li');\n\t\tthis.$itemP = document.createElement('p');\n\t\tthis.$itemP.innerHTML = this.text;\n\t\tthis.$itemLi.appendChild(this.$itemP);\n\n\t\tthis.$itemButton = document.createElement('button');\n\t\tthis.$itemLi.appendChild(this.$itemButton);\n\n\t\t// $todoUL.appendChild( ... )\n\t\t// $todoUL.appendChild(this.$itemLi);\n\t\tthis.$itemButton.addEventListener('click', this.checkOff.bind(this));\n\t}\n\n\tcheckOff ()  {\n\t\tthis.done = !this.done;\n\t\tthis.updateView();\n\n\t\t// tell the world\n\t\twindow.dispatchEvent(new Event('itemchanged'));\n\n\n\t};\n\n\tupdateView ()  {\n\t\tthis.done ? this.$itemLi.classList.add('done') : this.$itemLi.classList.remove('done');\n\t};\n \t\t\t\n\n\n};\n\n\nlet todoList = new TodoList();\n\n"]}